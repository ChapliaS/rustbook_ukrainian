## crwdns75378:0crwdne75378:0

crwdns75380:0crwdne75380:0 crwdns75382:0crwdne75382:0 crwdns75384:0crwdne75384:0 crwdns75386:0crwdne75386:0

### crwdns75388:0crwdne75388:0

crwdns75390:0crwdne75390:0 crwdns75392:0crwdne75392:0

<span class="filename">crwdns75394:0crwdne75394:0</span>

```rust,no_run
crwdns75396:0crwdne75396:0
```


<span class="caption">crwdns75398:0crwdne75398:0</span>

crwdns75400:0crwdne75400:0 crwdns75402:0crwdne75402:0

crwdns75404:0crwdne75404:0 crwdns75406:0crwdne75406:0 crwdns75408:0crwdne75408:0 crwdns75410:0crwdne75410:0

crwdns75412:0crwdne75412:0

crwdns75414:0crwdne75414:0 crwdns75416:0crwdne75416:0 crwdns75418:0crwdne75418:0 crwdns75420:0crwdne75420:0

crwdns75422:0crwdne75422:0

### crwdns75424:0crwdne75424:0

crwdns75426:0crwdne75426:0 crwdns75428:0crwdne75428:0 crwdns75430:0crwdne75430:0 crwdns75432:0crwdne75432:0 crwdns75434:0crwdne75434:0

crwdns75436:0crwdne75436:0

crwdns75438:0crwdne75438:0 crwdns75440:0crwdne75440:0 crwdns75442:0crwdne75442:0 crwdns75444:0crwdne75444:0 crwdns75446:0crwdne75446:0 crwdns75448:0crwdne75448:0

crwdns75450:0crwdne75450:0 crwdns75452:0crwdne75452:0 crwdns75454:0crwdne75454:0

crwdns75456:0crwdne75456:0 crwdns75458:0crwdne75458:0 crwdns75460:0crwdne75460:0

crwdns75462:0crwdne75462:0 crwdns75464:0crwdne75464:0 crwdns75466:0crwdne75466:0

<!-- Old headings. Do not remove or links may break. -->
<a id="code-structure-if-we-could-spawn-a-thread-for-each-request"></a>

#### crwdns75468:0crwdne75468:0

crwdns75470:0crwdne75470:0 crwdns75472:0crwdne75472:0 crwdns75474:0crwdne75474:0 crwdns75476:0crwdne75476:0

<span class="filename">crwdns75478:0crwdne75478:0</span>

```rust,no_run
crwdns75480:0crwdne75480:0
```


<span class="caption">crwdns75482:0crwdne75482:0</span>

crwdns75484:0crwdne75484:0 crwdns75486:0crwdne75486:0 crwdns75488:0crwdne75488:0

<!-- Old headings. Do not remove or links may break. -->
<a id="creating-a-similar-interface-for-a-finite-number-of-threads"></a>

#### crwdns75490:0crwdne75490:0

crwdns75492:0crwdne75492:0 crwdns75494:0crwdne75494:0

<span class="filename">crwdns75496:0crwdne75496:0</span>

```rust,ignore,does_not_compile
crwdns75498:0crwdne75498:0
```

<span class="caption">crwdns75500:0crwdne75500:0</span>

crwdns75502:0crwdne75502:0 crwdns75504:0crwdne75504:0 crwdns75506:0crwdne75506:0 crwdns75508:0crwdne75508:0

<!-- Old headings. Do not remove or links may break. -->
<a id="building-the-threadpool-struct-using-compiler-driven-development"></a>

#### crwdns75510:0crwdne75510:0

crwdns75512:0crwdne75512:0 crwdns75514:0crwdne75514:0

```console
crwdns75516:0crwdne75516:0
```

crwdns75518:0crwdne75518:0 crwdns75520:0crwdne75520:0 crwdns75522:0crwdne75522:0 crwdns75524:0crwdne75524:0 crwdns75526:0crwdne75526:0

crwdns75528:0crwdne75528:0

<span class="filename">crwdns75530:0crwdne75530:0</span>

```rust,noplayground
crwdns75532:0crwdne75532:0
```

crwdns75534:0crwdne75534:0

<span class="filename">crwdns75536:0crwdne75536:0</span>

```rust,ignore
crwdns75538:0crwdne75538:0
```

crwdns75540:0crwdne75540:0

```console
crwdns75542:0crwdne75542:0
```

crwdns75544:0crwdne75544:0 crwdns75546:0crwdne75546:0 crwdns75548:0crwdne75548:0

<span class="filename">crwdns75550:0crwdne75550:0</span>

```rust,noplayground
crwdns75552:0crwdne75552:0
```

crwdns75554:0crwdne75554:0 crwdns75556:0crwdne75556:0<!--
ignore --> crwdns75558:0crwdne75558:0

crwdns75560:0crwdne75560:0

```console
crwdns75562:0crwdne75562:0
```

crwdns75564:0crwdne75564:0 crwdns75566:0crwdne75566:0<!-- ignore --> crwdns75568:0crwdne75568:0 crwdns75570:0crwdne75570:0

crwdns75572:0crwdne75572:0 crwdns75574:0crwdne75574:0<!-- ignore --> crwdns75576:0crwdne75576:0 crwdns75578:0crwdne75578:0 crwdns75580:0crwdne75580:0 crwdns75582:0crwdne75582:0

```rust,ignore
crwdns75584:0crwdne75584:0
```

crwdns75586:0crwdne75586:0 crwdns75588:0crwdne75588:0 crwdns75590:0crwdne75590:0 crwdns75592:0crwdne75592:0

crwdns75594:0crwdne75594:0 crwdns75596:0crwdne75596:0

<span class="filename">crwdns75598:0crwdne75598:0</span>

```rust,noplayground
crwdns75600:0crwdne75600:0
```

crwdns75602:0crwdne75602:0 crwdns75604:0crwdne75604:0

crwdns75606:0crwdne75606:0 crwdns75608:0crwdne75608:0

```console
crwdns75610:0crwdne75610:0
```

crwdns75612:0crwdne75612:0 crwdns75614:0crwdne75614:0 crwdns75616:0crwdne75616:0

> crwdns75618:0crwdne75618:0 crwdns75620:0crwdne75620:0 crwdns75622:0crwdne75622:0 crwdns75624:0crwdne75624:0

#### crwdns75626:0crwdne75626:0

crwdns75628:0crwdne75628:0 crwdns75630:0crwdne75630:0 crwdns75632:0crwdne75632:0 crwdns75634:0crwdne75634:0 crwdns75636:0crwdne75636:0 crwdns75638:0crwdne75638:0

<span class="filename">crwdns75640:0crwdne75640:0</span>

```rust,noplayground
crwdns75642:0crwdne75642:0
```


<span class="caption">crwdns75644:0crwdne75644:0</span>

crwdns75646:0crwdne75646:0 crwdns75648:0crwdne75648:0 crwdns75650:0crwdne75650:0

crwdns75652:0crwdne75652:0 crwdns75654:0crwdne75654:0 crwdns75656:0crwdne75656:0

```rust,ignore
crwdns75658:0crwdne75658:0
```

#### crwdns75660:0crwdne75660:0

crwdns75662:0crwdne75662:0 crwdns75664:0crwdne75664:0 crwdns75666:0crwdne75666:0

```rust,ignore
crwdns75668:0crwdne75668:0
```

crwdns75670:0crwdne75670:0 crwdns75672:0crwdne75672:0 crwdns75674:0crwdne75674:0

crwdns75676:0crwdne75676:0 crwdns75678:0crwdne75678:0

<span class="filename">crwdns75680:0crwdne75680:0</span>

```rust,ignore,not_desired_behavior
crwdns75682:0crwdne75682:0
```


<span class="caption">crwdns75684:0crwdne75684:0</span>

crwdns75686:0crwdne75686:0

crwdns75688:0crwdne75688:0 crwdns75690:0crwdne75690:0 crwdns75692:0crwdne75692:0

crwdns75694:0crwdne75694:0

#### crwdns75696:0crwdne75696:0

crwdns75698:0crwdne75698:0 crwdns75700:0crwdne75700:0 crwdns75702:0crwdne75702:0 crwdns75704:0crwdne75704:0 crwdns75706:0crwdne75706:0

crwdns75708:0crwdne75708:0 crwdns75710:0crwdne75710:0 crwdns75712:0crwdne75712:0 crwdns75714:0crwdne75714:0

crwdns75716:0crwdne75716:0 crwdns75718:0crwdne75718:0 crwdns75720:0crwdne75720:0 crwdns75722:0crwdne75722:0

crwdns75724:0crwdne75724:0 crwdns75726:0crwdne75726:0

1. crwdns75728:0crwdne75728:0
2. crwdns75730:0crwdne75730:0
3. crwdns75732:0crwdne75732:0
4. crwdns75734:0crwdne75734:0

crwdns75736:0crwdne75736:0

crwdns75738:0crwdne75738:0 crwdns75740:0crwdne75740:0

<span class="filename">crwdns75742:0crwdne75742:0</span>

```rust,noplayground
crwdns75744:0crwdne75744:0
```


<span class="caption">crwdns75746:0crwdne75746:0</span>

crwdns75748:0crwdne75748:0 crwdns75750:0crwdne75750:0

crwdns75752:0crwdne75752:0 crwdns75754:0crwdne75754:0

> crwdns75756:0crwdne75756:0 crwdns75758:0crwdne75758:0 crwdns75760:0:thread:crwdne75760:0<!-- ignore --> crwdns75762:0crwdne75762:0<!-- ignore --> crwdns75764:0crwdne75764:0

crwdns75766:0crwdne75766:0 crwdns75768:0crwdne75768:0 crwdns75770:0crwdne75770:0

#### crwdns75772:0crwdne75772:0

crwdns75774:0crwdne75774:0 crwdns75776:0crwdne75776:0 crwdns75778:0crwdne75778:0

crwdns75780:0crwdne75780:0

crwdns75782:0crwdne75782:0 crwdns75784:0crwdne75784:0 crwdns75786:0crwdne75786:0

1. crwdns75788:0crwdne75788:0
2. crwdns75790:0crwdne75790:0
3. crwdns75792:0crwdne75792:0
4. crwdns75794:0crwdne75794:0
5. crwdns75796:0crwdne75796:0

crwdns75798:0crwdne75798:0 crwdns75800:0crwdne75800:0

<span class="filename">crwdns75802:0crwdne75802:0</span>

```rust,noplayground
crwdns75804:0crwdne75804:0
```


<span class="caption">crwdns75806:0crwdne75806:0</span>

crwdns75808:0crwdne75808:0 crwdns75810:0crwdne75810:0

crwdns75812:0crwdne75812:0 crwdns75814:0crwdne75814:0 crwdns75816:0crwdne75816:0

<span class="filename">crwdns75818:0crwdne75818:0</span>

```rust,ignore,does_not_compile
crwdns75820:0crwdne75820:0
```

<span class="caption">crwdns75822:0crwdne75822:0</span>

crwdns75824:0crwdne75824:0

crwdns75826:0crwdne75826:0

```console
crwdns75828:0crwdne75828:0
```

crwdns75830:0crwdne75830:0 crwdns75832:0crwdne75832:0 crwdns75834:0crwdne75834:0 crwdns75836:0crwdne75836:0

crwdns75838:0crwdne75838:0

crwdns75840:0crwdne75840:0 crwdns75842:0crwdne75842:0 crwdns75844:0crwdne75844:0

<span class="filename">crwdns75846:0crwdne75846:0</span>

```rust,noplayground
crwdns75848:0crwdne75848:0
```


<span class="caption">crwdns75850:0crwdne75850:0</span>

crwdns75852:0crwdne75852:0 crwdns75854:0crwdne75854:0

crwdns75856:0crwdne75856:0 crwdns75858:0crwdne75858:0

#### crwdns75860:0crwdne75860:0

crwdns75862:0crwdne75862:0 crwdns75864:0crwdne75864:0 crwdns75866:0crwdne75866:0<!-- ignore -->
crwdns75868:0crwdne75868:0 crwdns75870:0crwdne75870:0

<span class="filename">crwdns75872:0crwdne75872:0</span>

```rust,noplayground
crwdns75874:0crwdne75874:0
```


<span class="caption">crwdns75876:0crwdne75876:0</span>

crwdns75878:0crwdne75878:0 crwdns75880:0crwdne75880:0 crwdns75882:0crwdne75882:0 crwdns75884:0crwdne75884:0 crwdns75886:0crwdne75886:0

crwdns75888:0crwdne75888:0 crwdns75890:0crwdne75890:0 crwdns75892:0crwdne75892:0 crwdns75894:0crwdne75894:0

<span class="filename">crwdns75896:0crwdne75896:0</span>

```rust,noplayground
crwdns75898:0crwdne75898:0
```


<span class="caption">crwdns75900:0crwdne75900:0</span>

crwdns75902:0crwdne75902:0 crwdns75904:0crwdne75904:0 crwdns75906:0crwdne75906:0 crwdns75908:0crwdne75908:0

crwdns75910:0crwdne75910:0 crwdns75912:0crwdne75912:0

crwdns75914:0crwdne75914:0 crwdns75916:0crwdne75916:0

crwdns75918:0crwdne75918:0 crwdns75920:0crwdne75920:0

<!-- manual-regeneration
cd listings/ch20-web-server/listing-20-20
cargo run
make some requests to 127.0.0.1:7878
Can't automate because the output depends on making requests
-->

```console
crwdns75922:0crwdne75922:0
crwdns75924:0crwdne75924:0
crwdns75926:0crwdne75926:0
crwdns75928:0crwdne75928:0
crwdns75930:0crwdne75930:0
crwdns75932:0crwdne75932:0
crwdns75934:0crwdne75934:0
crwdns75936:0crwdne75936:0
crwdns75938:0crwdne75938:0
crwdns75940:0crwdne75940:0
```

crwdns75942:0crwdne75942:0 crwdns75944:0crwdne75944:0 crwdns75946:0crwdne75946:0 crwdns75948:0crwdne75948:0

> crwdns75950:0crwdne75950:0 crwdns75952:0crwdne75952:0 crwdns75954:0crwdne75954:0

crwdns75956:0crwdne75956:0

<span class="filename">crwdns75958:0crwdne75958:0</span>

```rust,ignore,not_desired_behavior
crwdns75960:0crwdne75960:0
```


<span class="caption">crwdns75962:0crwdne75962:0</span>

crwdns75964:0crwdne75964:0 crwdns75966:0crwdne75966:0 crwdns75968:0crwdne75968:0 crwdns75970:0crwdne75970:0

crwdns75972:0crwdne75972:0 crwdns75974:0crwdne75974:0 crwdns75976:0crwdne75976:0
crwdns75978:0crwdne75978:0
